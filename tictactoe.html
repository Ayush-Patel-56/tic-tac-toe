<!DOCTYPE html>
<html>
<head>
  <title>Tic Tac Toe</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * {
      box-sizing: border-box;
      margin: 0; padding: 0;
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #1e3c72, #2a5298);
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
    }
    h1 {
      margin-bottom: 15px;
      font-size: 36px;
      letter-spacing: 2px;
    }
    .scoreboard {
      display: flex;
      justify-content: space-between;
      width: 300px;
      margin-bottom: 20px;
      font-size: 20px;
      font-weight: bold;
    }
    .container {
      width: 310px;
      display: grid;
      grid-template-columns: repeat(3, 100px);
      grid-template-rows: repeat(3, 100px);
      gap: 5px;
    }
    .box {
      width: 100px;
      height: 100px;
      border-radius: 12px;
      background: rgba(255,255,255,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 70px;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s, transform 0.2s;
    }
    .box:hover {
      background: rgba(255,255,255,0.2);
      transform: scale(1.05);
    }
    .win {
      background: #4caf50 !important;
      color: #fff;
      animation: blink 0.7s infinite alternate;
    }
    @keyframes blink {
      from { background: #4caf50; }
      to { background: #66bb6a; }
    }
    #turn {
      margin: 15px 0;
      font-size: 22px;
    }
    button {
      margin-top: 15px;
      padding: 10px 20px;
      font-size: 18px;
      border: none;
      border-radius: 8px;
      background: #ff9800;
      color: #fff;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      background: #e68900;
    }
  </style>
</head>
<body>
  <h1>Tic Tac Toe</h1>
  <div class="scoreboard">
    <div>X Score: <span id="xScore">0</span></div>
    <div>O Score: <span id="oScore">0</span></div>
  </div>
  <div id="turn">Play</div>
  <div class="container" id="main">
    <div class="box" id="box1"></div>
    <div class="box" id="box2"></div>
    <div class="box" id="box3"></div>
    <div class="box" id="box4"></div>
    <div class="box" id="box5"></div>
    <div class="box" id="box6"></div>
    <div class="box" id="box7"></div>
    <div class="box" id="box8"></div>
    <div class="box" id="box9"></div>
  </div>
  <button onclick="replay()">Play Again</button>

  <script>
    let turn = document.getElementById("turn"),
        boxes = document.querySelectorAll(".box"),
        X_or_O = 0,
        xScore = 0,
        oScore = 0;

    function selectWinnerBoxes(b1,b2,b3){
      b1.classList.add("win");
      b2.classList.add("win");
      b3.classList.add("win");
      turn.innerHTML = b1.innerHTML + " Won üéâ";
      turn.style.fontSize = "28px";
      updateScore(b1.innerHTML);
    }

    function updateScore(winner){
      if(winner === "X"){ xScore++; document.getElementById("xScore").innerText = xScore; }
      else if(winner === "O"){ oScore++; document.getElementById("oScore").innerText = oScore; }
    }

    function getWinner(){
      let b = [];
      for(let i=1; i<=9; i++) b[i] = document.getElementById("box"+i);

      let wins = [
        [b[1],b[2],b[3]],[b[4],b[5],b[6]],[b[7],b[8],b[9]],
        [b[1],b[4],b[7]],[b[2],b[5],b[8]],[b[3],b[6],b[9]],
        [b[1],b[5],b[9]],[b[3],b[5],b[7]]
      ];
      for(let combo of wins){
        if(combo[0].innerHTML !== "" && combo[0].innerHTML === combo[1].innerHTML && combo[0].innerHTML === combo[2].innerHTML){
          selectWinnerBoxes(combo[0], combo[1], combo[2]);
          return true;
        }
      }
      return false;
    }

    function checkDraw(){
      let filled = true;
      boxes.forEach(box => {
        if(box.innerHTML === "") filled = false;
      });
      if(filled && turn.innerHTML.indexOf("Won") === -1){
        turn.innerHTML = "It's a Draw! ü§ù";
        turn.style.fontSize = "26px";
        return true;
      }
      return false;
    }

    for(let i=0; i<boxes.length; i++){
      boxes[i].onclick = function(){
        if(this.innerHTML === "" && turn.innerHTML.indexOf("Won") === -1 && turn.innerHTML.indexOf("Draw") === -1){
          if(X_or_O % 2 === 0){
            this.innerHTML = "X";
            turn.innerHTML = "O's Turn";
          } else {
            this.innerHTML = "O";
            turn.innerHTML = "X's Turn";
          }
          X_or_O++;
          if(!getWinner()) checkDraw();
        }
      };
    }

    function replay(){
      for(let i=0; i<boxes.length; i++){
        boxes[i].classList.remove("win");
        boxes[i].innerHTML = "";
      }
      turn.innerHTML = "Play";
      turn.style.fontSize = "22px";
      X_or_O = 0;
    }
  </script>
</body>
</html>
